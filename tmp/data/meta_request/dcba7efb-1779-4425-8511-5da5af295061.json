[{"name":"sql.active_record","payload":{"sql":"SELECT  \"tenants\".* FROM \"tenants\"  ORDER BY \"tenants\".\"id\" DESC LIMIT 1","name":"Tenant Load","connection_id":25923440,"statement_name":null,"binds":[],"octopus_shard":null,"line":25,"filename":"/home/tuyendv/qlgd-test/app/controllers/application_controller.rb","method":"select_shard"},"time":"2016-07-07T15:09:30.665+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.665+07:00","children":[],"duration":0.40057},{"name":"sql.active_record","payload":{"sql":"SELECT  \"lop_mon_hocs\".* FROM \"lop_mon_hocs\" WHERE \"lop_mon_hocs\".\"id\" = $1 LIMIT 1","name":"LopMonHoc Load","connection_id":46596840,"statement_name":"a22","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('lop_mon_hocs_id_seq'::regclass)"},411]],"octopus_shard":"qlgd","line":44,"filename":"/home/tuyendv/qlgd-test/app/controllers/teacher/submissions_controller.rb","method":"index2"},"time":"2016-07-07T15:09:30.666+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.666+07:00","children":[],"duration":0.34221399999999996},{"name":"sql.active_record","payload":{"sql":"with a1 as (select en.id, ai.id as assignment_id, ai.name from enrollments en\ninner join assignments ai on ai.lop_mon_hoc_id = en.lop_mon_hoc_id\nwhere en.lop_mon_hoc_id=411), a2 as (select su.enrollment_id, su.grade, ai.id as assignment_id, ai.name from submissions su\ninner join assignments ai on su.assignment_id=ai.id\ninner join lop_mon_hocs lop on ai.lop_mon_hoc_id = lop.id\nwhere lop.id=411), a3 as (select a1.id, a1.assignment_id, a1.name, COALESCE(a2.grade,0) as grade from a1\nleft outer join a2 on a1.id = a2.enrollment_id and a1.assignment_id = a2.assignment_id)\nselect a3.id as enrollment_id, a3.assignment_id, a3.name, a3.grade, regexp_replace(sv.ho || ' ' || sv.dem || ' ' || sv.ten, '  ',' ') as hovaten, sv.code, sv.ma_lop_hanh_chinh, en.diem_qua_trinh, en.tinhhinh  from a3 inner join enrollments en on en.id = a3.id\ninner join lop_mon_hocs lop on lop.id = en.lop_mon_hoc_id \ninner join sinh_viens sv on sv.id = en.sinh_vien_id\ninner join assignments ai on a3.assignment_id = ai.id\ninner join assignment_groups ag on ag.id = ai.assignment_group_id\norder by sv.encoded_position, ag.position, ai.position","name":null,"connection_id":46596840,"statement_name":null,"binds":[],"octopus_shard":"qlgd","line":59,"filename":"/home/tuyendv/qlgd-test/app/controllers/teacher/submissions_controller.rb","method":"index2"},"time":"2016-07-07T15:09:30.667+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.780+07:00","children":[],"duration":113.181589},{"name":"sql.active_record","payload":{"sql":"select ai.id as assignment_id, ai.name, ai.points, ag.name as group_name, ag.weight from assignments ai\ninner join assignment_groups ag on ag.id = ai.assignment_group_id\nwhere ai.lop_mon_hoc_id=411\norder by ag.position, ai.position","name":null,"connection_id":46596840,"statement_name":null,"binds":[],"octopus_shard":"qlgd","line":64,"filename":"/home/tuyendv/qlgd-test/app/controllers/teacher/submissions_controller.rb","method":"index2"},"time":"2016-07-07T15:09:30.781+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.782+07:00","children":[],"duration":0.627107},{"name":"process_action.action_controller","payload":{"controller":"Teacher::SubmissionsController","action":"index2","params":{"controller":"teacher/submissions","action":"index2","id":"411","format":"json"},"format":"json","method":"GET","path":"/teacher/lop/411/submissions2.json","status":200,"view_runtime":6.403632999990805,"db_runtime":114.431313,"solr_runtime":0},"time":"2016-07-07T15:09:30.664+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.789+07:00","children":[],"duration":124.959263}]