[{"name":"sql.active_record","payload":{"sql":"SELECT  \"tenants\".* FROM \"tenants\"  ORDER BY \"tenants\".\"id\" DESC LIMIT 1","name":"Tenant Load","connection_id":25923440,"statement_name":null,"binds":[],"octopus_shard":null,"line":25,"filename":"/home/tuyendv/qlgd-test/app/controllers/application_controller.rb","method":"select_shard"},"time":"2016-07-07T15:09:31.030+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:31.030+07:00","children":[],"duration":0.539916},{"name":"sql.active_record","payload":{"sql":"SELECT  \"lop_mon_hocs\".* FROM \"lop_mon_hocs\" WHERE \"lop_mon_hocs\".\"id\" = $1 LIMIT 1","name":"LopMonHoc Load","connection_id":46596840,"statement_name":"a22","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('lop_mon_hocs_id_seq'::regclass)"},411]],"octopus_shard":"qlgd","line":4,"filename":"/home/tuyendv/qlgd-test/app/controllers/teacher/group_submissions_controller.rb","method":"index"},"time":"2016-07-07T15:09:31.031+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:31.031+07:00","children":[],"duration":0.227543},{"name":"sql.active_record","payload":{"sql":"with a1 as (select en.id, ai.id as assignment_group_id, ai.name from enrollments en\ninner join assignment_groups ai on ai.lop_mon_hoc_id = en.lop_mon_hoc_id\nwhere en.lop_mon_hoc_id=411),a2 as (select su.enrollment_id, su.grade, ai.id as assignment_group_id, ai.name from group_submissions su\ninner join assignment_groups ai on su.assignment_group_id=ai.id\ninner join lop_mon_hocs lop on ai.lop_mon_hoc_id = lop.id\nwhere lop.id=411),a3 as (select a1.id, a1.assignment_group_id, a1.name, COALESCE(a2.grade,0) as grade from a1\nleft outer join a2 on a1.id = a2.enrollment_id and a1.assignment_group_id = a2.assignment_group_id)\nselect a3.id as enrollment_id, a3.assignment_group_id, a3.name, a3.grade, regexp_replace(sv.ho || ' ' || sv.dem || ' ' || sv.ten, '  ',' ') as hovaten, sv.code, sv.ma_lop_hanh_chinh, COALESCE(en.diem_qua_trinh,0) as diem_qua_trinh, en.tinhhinh  from a3 inner join enrollments en on en.id = a3.id\ninner join lop_mon_hocs lop on lop.id = en.lop_mon_hoc_id \ninner join sinh_viens sv on sv.id = en.sinh_vien_id\ninner join assignment_groups ai on a3.assignment_group_id = ai.id\norder by sv.encoded_position, ai.position\n","name":null,"connection_id":46596840,"statement_name":null,"binds":[],"octopus_shard":"qlgd","line":19,"filename":"/home/tuyendv/qlgd-test/app/controllers/teacher/group_submissions_controller.rb","method":"index"},"time":"2016-07-07T15:09:31.032+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:31.072+07:00","children":[],"duration":40.312051000000004},{"name":"sql.active_record","payload":{"sql":"select ag.id as assignment_group_id, ag.name as group_name, ag.weight from assignment_groups ag\nwhere ag.lop_mon_hoc_id=411\norder by ag.position","name":null,"connection_id":46596840,"statement_name":null,"binds":[],"octopus_shard":"qlgd","line":23,"filename":"/home/tuyendv/qlgd-test/app/controllers/teacher/group_submissions_controller.rb","method":"index"},"time":"2016-07-07T15:09:31.073+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:31.073+07:00","children":[],"duration":0.370172},{"name":"process_action.action_controller","payload":{"controller":"Teacher::GroupSubmissionsController","action":"index","params":{"controller":"teacher/group_submissions","action":"index","id":"411"},"format":"*/*","method":"GET","path":"/teacher/lop/411/group_submissions","status":200,"view_runtime":4.096789999948669,"db_runtime":41.324737,"solr_runtime":0},"time":"2016-07-07T15:09:31.029+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:31.078+07:00","children":[],"duration":48.907582999999995}]