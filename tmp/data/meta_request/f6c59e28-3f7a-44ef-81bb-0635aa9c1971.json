[{"name":"sql.active_record","payload":{"sql":"SELECT  \"tenants\".* FROM \"tenants\"  ORDER BY \"tenants\".\"id\" DESC LIMIT 1","name":"Tenant Load","connection_id":25923440,"statement_name":null,"binds":[],"octopus_shard":null,"line":25,"filename":"/home/tuyendv/qlgd-test/app/controllers/application_controller.rb","method":"select_shard"},"time":"2016-07-07T15:09:30.082+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.082+07:00","children":[],"duration":0.35750000000000004},{"name":"sql.active_record","payload":{"sql":"SELECT  \"lich_trinh_giang_days\".* FROM \"lich_trinh_giang_days\" WHERE \"lich_trinh_giang_days\".\"id\" = $1  ORDER BY thoi_gian, phong LIMIT 1","name":"LichTrinhGiangDay Load","connection_id":46596840,"statement_name":"a14","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('lich_trinh_giang_days_id_seq'::regclass)"},6727]],"octopus_shard":"qlgd","line":5,"filename":"/home/tuyendv/qlgd-test/app/controllers/teacher/attendances_controller.rb","method":"index"},"time":"2016-07-07T15:09:30.083+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.084+07:00","children":[],"duration":0.334569},{"name":"sql.active_record","payload":{"sql":"SELECT \"lop_mon_hocs\".* FROM \"lop_mon_hocs\" WHERE \"lop_mon_hocs\".\"id\" IN (411)","name":"LopMonHoc Load","connection_id":46596840,"statement_name":null,"binds":[],"octopus_shard":"qlgd","line":5,"filename":"/home/tuyendv/qlgd-test/app/controllers/teacher/attendances_controller.rb","method":"index"},"time":"2016-07-07T15:09:30.085+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.085+07:00","children":[],"duration":0.296318},{"name":"sql.active_record","payload":{"sql":"SELECT \"giang_viens\".* FROM \"giang_viens\" WHERE \"giang_viens\".\"id\" IN (351)","name":"GiangVien Load","connection_id":46596840,"statement_name":null,"binds":[],"octopus_shard":"qlgd","line":5,"filename":"/home/tuyendv/qlgd-test/app/controllers/teacher/attendances_controller.rb","method":"index"},"time":"2016-07-07T15:09:30.087+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.087+07:00","children":[],"duration":0.293103},{"name":"sql.active_record","payload":{"sql":"SELECT \"enrollments\".\"id\" AS t0_r0, \"enrollments\".\"lop_mon_hoc_id\" AS t0_r1, \"enrollments\".\"sinh_vien_id\" AS t0_r2, \"enrollments\".\"created_at\" AS t0_r3, \"enrollments\".\"updated_at\" AS t0_r4, \"enrollments\".\"tinhhinh\" AS t0_r5, \"enrollments\".\"bosung\" AS t0_r6, \"enrollments\".\"diem_qua_trinh\" AS t0_r7, \"enrollments\".\"tong_tiet_vang\" AS t0_r8, \"enrollments\".\"trang_thai_chuyen_diem\" AS t0_r9, \"enrollments\".\"nhatky\" AS t0_r10, \"sinh_viens\".\"id\" AS t1_r0, \"sinh_viens\".\"ho\" AS t1_r1, \"sinh_viens\".\"dem\" AS t1_r2, \"sinh_viens\".\"ten\" AS t1_r3, \"sinh_viens\".\"ngay_sinh\" AS t1_r4, \"sinh_viens\".\"code\" AS t1_r5, \"sinh_viens\".\"ma_lop_hanh_chinh\" AS t1_r6, \"sinh_viens\".\"created_at\" AS t1_r7, \"sinh_viens\".\"updated_at\" AS t1_r8, \"sinh_viens\".\"tin_chi\" AS t1_r9, \"sinh_viens\".\"khoa\" AS t1_r10, \"sinh_viens\".\"he\" AS t1_r11, \"sinh_viens\".\"nganh\" AS t1_r12, \"sinh_viens\".\"gioi_tinh\" AS t1_r13, \"sinh_viens\".\"position\" AS t1_r14, \"sinh_viens\".\"encoded_position\" AS t1_r15 FROM \"enrollments\" LEFT OUTER JOIN \"sinh_viens\" ON \"sinh_viens\".\"id\" = \"enrollments\".\"sinh_vien_id\" WHERE \"enrollments\".\"lop_mon_hoc_id\" = $1  ORDER BY sinh_viens.encoded_position","name":"SQL","connection_id":46596840,"statement_name":"a16","binds":[[{"array":false,"name":"lop_mon_hoc_id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":true,"default":null,"default_function":null},411]],"octopus_shard":"qlgd","line":9,"filename":"/home/tuyendv/qlgd-test/app/controllers/teacher/attendances_controller.rb","method":"index"},"time":"2016-07-07T15:09:30.091+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.100+07:00","children":[],"duration":8.16271},{"name":"sql.active_record","payload":{"sql":"SELECT  \"attendances\".* FROM \"attendances\" INNER JOIN \"sinh_viens\" ON \"attendances\".\"sinh_vien_id\" = \"sinh_viens\".\"id\" WHERE \"sinh_viens\".\"id\" = $1 AND \"attendances\".\"lich_trinh_giang_day_id\" = $2  ORDER BY sinh_viens.position, encoded_position LIMIT 1","name":"Attendance Load","connection_id":46596840,"statement_name":"a17","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('sinh_viens_id_seq'::regclass)"},1032],[{"array":false,"name":"lich_trinh_giang_day_id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":true,"default":null,"default_function":null},6727]],"octopus_shard":"qlgd","line":17,"filename":"/home/tuyendv/qlgd-test/app/decorators/lich_enrollment_decorator.rb","method":"initialize"},"time":"2016-07-07T15:09:30.122+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.131+07:00","children":[],"duration":9.438281},{"name":"sql.active_record","payload":{"sql":"SELECT  \"attendances\".* FROM \"attendances\" INNER JOIN \"sinh_viens\" ON \"attendances\".\"sinh_vien_id\" = \"sinh_viens\".\"id\" WHERE \"sinh_viens\".\"id\" = $1 AND \"attendances\".\"lich_trinh_giang_day_id\" = $2  ORDER BY sinh_viens.position, encoded_position LIMIT 1","name":"Attendance Load","connection_id":46596840,"statement_name":"a17","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('sinh_viens_id_seq'::regclass)"},1029],[{"array":false,"name":"lich_trinh_giang_day_id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":true,"default":null,"default_function":null},6727]],"octopus_shard":"qlgd","line":17,"filename":"/home/tuyendv/qlgd-test/app/decorators/lich_enrollment_decorator.rb","method":"initialize"},"time":"2016-07-07T15:09:30.135+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.135+07:00","children":[],"duration":0.456346},{"name":"sql.active_record","payload":{"sql":"SELECT  \"attendances\".* FROM \"attendances\" INNER JOIN \"sinh_viens\" ON \"attendances\".\"sinh_vien_id\" = \"sinh_viens\".\"id\" WHERE \"sinh_viens\".\"id\" = $1 AND \"attendances\".\"lich_trinh_giang_day_id\" = $2  ORDER BY sinh_viens.position, encoded_position LIMIT 1","name":"Attendance Load","connection_id":46596840,"statement_name":"a17","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('sinh_viens_id_seq'::regclass)"},1030],[{"array":false,"name":"lich_trinh_giang_day_id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":true,"default":null,"default_function":null},6727]],"octopus_shard":"qlgd","line":17,"filename":"/home/tuyendv/qlgd-test/app/decorators/lich_enrollment_decorator.rb","method":"initialize"},"time":"2016-07-07T15:09:30.138+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.138+07:00","children":[],"duration":0.422433},{"name":"sql.active_record","payload":{"sql":"SELECT  \"attendances\".* FROM \"attendances\" INNER JOIN \"sinh_viens\" ON \"attendances\".\"sinh_vien_id\" = \"sinh_viens\".\"id\" WHERE \"sinh_viens\".\"id\" = $1 AND \"attendances\".\"lich_trinh_giang_day_id\" = $2  ORDER BY sinh_viens.position, encoded_position LIMIT 1","name":"Attendance Load","connection_id":46596840,"statement_name":"a17","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('sinh_viens_id_seq'::regclass)"},1036],[{"array":false,"name":"lich_trinh_giang_day_id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":true,"default":null,"default_function":null},6727]],"octopus_shard":"qlgd","line":17,"filename":"/home/tuyendv/qlgd-test/app/decorators/lich_enrollment_decorator.rb","method":"initialize"},"time":"2016-07-07T15:09:30.142+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.143+07:00","children":[],"duration":0.470197},{"name":"sql.active_record","payload":{"sql":"SELECT  \"attendances\".* FROM \"attendances\" INNER JOIN \"sinh_viens\" ON \"attendances\".\"sinh_vien_id\" = \"sinh_viens\".\"id\" WHERE \"sinh_viens\".\"id\" = $1 AND \"attendances\".\"lich_trinh_giang_day_id\" = $2  ORDER BY sinh_viens.position, encoded_position LIMIT 1","name":"Attendance Load","connection_id":46596840,"statement_name":"a17","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('sinh_viens_id_seq'::regclass)"},1031],[{"array":false,"name":"lich_trinh_giang_day_id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":true,"default":null,"default_function":null},6727]],"octopus_shard":"qlgd","line":17,"filename":"/home/tuyendv/qlgd-test/app/decorators/lich_enrollment_decorator.rb","method":"initialize"},"time":"2016-07-07T15:09:30.146+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.147+07:00","children":[],"duration":0.41291500000000003},{"name":"sql.active_record","payload":{"sql":"SELECT  \"attendances\".* FROM \"attendances\" INNER JOIN \"sinh_viens\" ON \"attendances\".\"sinh_vien_id\" = \"sinh_viens\".\"id\" WHERE \"sinh_viens\".\"id\" = $1 AND \"attendances\".\"lich_trinh_giang_day_id\" = $2  ORDER BY sinh_viens.position, encoded_position LIMIT 1","name":"Attendance Load","connection_id":46596840,"statement_name":"a17","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('sinh_viens_id_seq'::regclass)"},1034],[{"array":false,"name":"lich_trinh_giang_day_id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":true,"default":null,"default_function":null},6727]],"octopus_shard":"qlgd","line":17,"filename":"/home/tuyendv/qlgd-test/app/decorators/lich_enrollment_decorator.rb","method":"initialize"},"time":"2016-07-07T15:09:30.150+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.150+07:00","children":[],"duration":0.37865000000000004},{"name":"sql.active_record","payload":{"sql":"SELECT  \"attendances\".* FROM \"attendances\" INNER JOIN \"sinh_viens\" ON \"attendances\".\"sinh_vien_id\" = \"sinh_viens\".\"id\" WHERE \"sinh_viens\".\"id\" = $1 AND \"attendances\".\"lich_trinh_giang_day_id\" = $2  ORDER BY sinh_viens.position, encoded_position LIMIT 1","name":"Attendance Load","connection_id":46596840,"statement_name":"a17","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('sinh_viens_id_seq'::regclass)"},1038],[{"array":false,"name":"lich_trinh_giang_day_id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":true,"default":null,"default_function":null},6727]],"octopus_shard":"qlgd","line":17,"filename":"/home/tuyendv/qlgd-test/app/decorators/lich_enrollment_decorator.rb","method":"initialize"},"time":"2016-07-07T15:09:30.154+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.154+07:00","children":[],"duration":0.30757799999999996},{"name":"sql.active_record","payload":{"sql":"SELECT  \"attendances\".* FROM \"attendances\" INNER JOIN \"sinh_viens\" ON \"attendances\".\"sinh_vien_id\" = \"sinh_viens\".\"id\" WHERE \"sinh_viens\".\"id\" = $1 AND \"attendances\".\"lich_trinh_giang_day_id\" = $2  ORDER BY sinh_viens.position, encoded_position LIMIT 1","name":"Attendance Load","connection_id":46596840,"statement_name":"a17","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('sinh_viens_id_seq'::regclass)"},1035],[{"array":false,"name":"lich_trinh_giang_day_id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":true,"default":null,"default_function":null},6727]],"octopus_shard":"qlgd","line":17,"filename":"/home/tuyendv/qlgd-test/app/decorators/lich_enrollment_decorator.rb","method":"initialize"},"time":"2016-07-07T15:09:30.158+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.158+07:00","children":[],"duration":0.374139},{"name":"sql.active_record","payload":{"sql":"SELECT  \"attendances\".* FROM \"attendances\" INNER JOIN \"sinh_viens\" ON \"attendances\".\"sinh_vien_id\" = \"sinh_viens\".\"id\" WHERE \"sinh_viens\".\"id\" = $1 AND \"attendances\".\"lich_trinh_giang_day_id\" = $2  ORDER BY sinh_viens.position, encoded_position LIMIT 1","name":"Attendance Load","connection_id":46596840,"statement_name":"a17","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('sinh_viens_id_seq'::regclass)"},1040],[{"array":false,"name":"lich_trinh_giang_day_id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":true,"default":null,"default_function":null},6727]],"octopus_shard":"qlgd","line":17,"filename":"/home/tuyendv/qlgd-test/app/decorators/lich_enrollment_decorator.rb","method":"initialize"},"time":"2016-07-07T15:09:30.162+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.162+07:00","children":[],"duration":0.323135},{"name":"sql.active_record","payload":{"sql":"SELECT  \"attendances\".* FROM \"attendances\" INNER JOIN \"sinh_viens\" ON \"attendances\".\"sinh_vien_id\" = \"sinh_viens\".\"id\" WHERE \"sinh_viens\".\"id\" = $1 AND \"attendances\".\"lich_trinh_giang_day_id\" = $2  ORDER BY sinh_viens.position, encoded_position LIMIT 1","name":"Attendance Load","connection_id":46596840,"statement_name":"a17","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('sinh_viens_id_seq'::regclass)"},1037],[{"array":false,"name":"lich_trinh_giang_day_id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":true,"default":null,"default_function":null},6727]],"octopus_shard":"qlgd","line":17,"filename":"/home/tuyendv/qlgd-test/app/decorators/lich_enrollment_decorator.rb","method":"initialize"},"time":"2016-07-07T15:09:30.166+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.167+07:00","children":[],"duration":0.29430100000000003},{"name":"sql.active_record","payload":{"sql":"SELECT  \"attendances\".* FROM \"attendances\" INNER JOIN \"sinh_viens\" ON \"attendances\".\"sinh_vien_id\" = \"sinh_viens\".\"id\" WHERE \"sinh_viens\".\"id\" = $1 AND \"attendances\".\"lich_trinh_giang_day_id\" = $2  ORDER BY sinh_viens.position, encoded_position LIMIT 1","name":"Attendance Load","connection_id":46596840,"statement_name":"a17","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('sinh_viens_id_seq'::regclass)"},1033],[{"array":false,"name":"lich_trinh_giang_day_id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":true,"default":null,"default_function":null},6727]],"octopus_shard":"qlgd","line":17,"filename":"/home/tuyendv/qlgd-test/app/decorators/lich_enrollment_decorator.rb","method":"initialize"},"time":"2016-07-07T15:09:30.171+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.171+07:00","children":[],"duration":0.291494},{"name":"sql.active_record","payload":{"sql":"SELECT SUM(\"lich_trinh_giang_days\".\"so_tiet\") FROM \"lich_trinh_giang_days\" LEFT OUTER JOIN \"lop_mon_hocs\" ON \"lop_mon_hocs\".\"id\" = \"lich_trinh_giang_days\".\"lop_mon_hoc_id\" LEFT OUTER JOIN \"giang_viens\" ON \"giang_viens\".\"id\" = \"lich_trinh_giang_days\".\"giang_vien_id\" WHERE \"lich_trinh_giang_days\".\"lop_mon_hoc_id\" = $1 AND \"lich_trinh_giang_days\".\"status\" IN ('accepted', 'completed') AND \"lich_trinh_giang_days\".\"state\" IN ('bosung', 'normal')","name":null,"connection_id":46596840,"statement_name":"a11","binds":[[{"array":false,"name":"lop_mon_hoc_id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":true,"default":null,"default_function":null},411]],"octopus_shard":"qlgd","line":123,"filename":"/home/tuyendv/qlgd-test/app/models/lop_mon_hoc.rb","method":"khoi_luong_du_kien"},"time":"2016-07-07T15:09:30.176+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.177+07:00","children":[],"duration":0.481682},{"name":"sql.active_record","payload":{"sql":"SELECT SUM(\"lich_trinh_giang_days\".\"so_tiet\") FROM \"lich_trinh_giang_days\" LEFT OUTER JOIN \"lop_mon_hocs\" ON \"lop_mon_hocs\".\"id\" = \"lich_trinh_giang_days\".\"lop_mon_hoc_id\" LEFT OUTER JOIN \"giang_viens\" ON \"giang_viens\".\"id\" = \"lich_trinh_giang_days\".\"giang_vien_id\" WHERE \"lich_trinh_giang_days\".\"lop_mon_hoc_id\" = $1 AND \"lich_trinh_giang_days\".\"status\" = $2 AND \"lich_trinh_giang_days\".\"state\" IN ('bosung', 'normal')","name":null,"connection_id":46596840,"statement_name":"a12","binds":[[{"array":false,"name":"lop_mon_hoc_id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":true,"default":null,"default_function":null},411],[{"array":false,"name":"status","cast_type":{"precision":null,"scale":null,"limit":255},"sql_type":"character varying(255)","null":true,"default":null,"default_function":null},"completed"]],"octopus_shard":"qlgd","line":111,"filename":"/home/tuyendv/qlgd-test/app/models/lop_mon_hoc.rb","method":"khoi_luong_thuc_hien"},"time":"2016-07-07T15:09:30.179+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.179+07:00","children":[],"duration":0.36006900000000003},{"name":"sql.active_record","payload":{"sql":"SELECT COUNT(DISTINCT \"enrollments\".\"id\") FROM \"enrollments\" LEFT OUTER JOIN \"sinh_viens\" ON \"sinh_viens\".\"id\" = \"enrollments\".\"sinh_vien_id\" WHERE \"enrollments\".\"lop_mon_hoc_id\" = $1","name":null,"connection_id":46596840,"statement_name":"a13","binds":[[{"array":false,"name":"lop_mon_hoc_id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":true,"default":null,"default_function":null},411]],"octopus_shard":"qlgd","line":11,"filename":"/home/tuyendv/qlgd-test/app/decorators/lop_mon_hoc_decorator.rb","method":"si_so"},"time":"2016-07-07T15:09:30.182+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.182+07:00","children":[],"duration":0.43817599999999995},{"name":"sql.active_record","payload":{"sql":"SELECT COUNT(DISTINCT \"enrollments\".\"id\") FROM \"enrollments\" LEFT OUTER JOIN \"sinh_viens\" ON \"sinh_viens\".\"id\" = \"enrollments\".\"sinh_vien_id\" WHERE \"enrollments\".\"lop_mon_hoc_id\" = $1","binds":[[{"array":false,"name":"lop_mon_hoc_id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":true,"default":null,"default_function":null},411]],"name":"CACHE","connection_id":46596840,"line":30,"filename":"/home/tuyendv/qlgd-test/app/decorators/lich_trinh_giang_day_decorator.rb","method":"sv_co_mat"},"time":"2016-07-07T15:09:30.190+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.190+07:00","children":[],"duration":0.034678},{"name":"sql.active_record","payload":{"sql":"              SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod\n                FROM pg_attribute a LEFT JOIN pg_attrdef d\n                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n               WHERE a.attrelid = '\"attendances\"'::regclass\n                 AND a.attnum \u003e 0 AND NOT a.attisdropped\n               ORDER BY a.attnum\n","name":"SCHEMA","connection_id":46596840,"statement_name":null,"binds":[],"octopus_shard":"qlgd","line":34,"filename":"/home/tuyendv/qlgd-test/app/decorators/lich_trinh_giang_day_decorator.rb","method":"sv_vang_mat"},"time":"2016-07-07T15:09:30.192+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.193+07:00","children":[],"duration":0.735411},{"name":"sql.active_record","payload":{"sql":"            SELECT attr.attname\n            FROM pg_attribute attr\n            INNER JOIN pg_constraint cons ON attr.attrelid = cons.conrelid AND attr.attnum = any(cons.conkey)\n            WHERE cons.contype = 'p'\n              AND cons.conrelid = '\"attendances\"'::regclass\n","name":"SCHEMA","connection_id":46596840,"statement_name":null,"binds":[],"octopus_shard":"qlgd","line":34,"filename":"/home/tuyendv/qlgd-test/app/decorators/lich_trinh_giang_day_decorator.rb","method":"sv_vang_mat"},"time":"2016-07-07T15:09:30.196+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.197+07:00","children":[],"duration":0.54733},{"name":"sql.active_record","payload":{"sql":"SELECT COUNT(DISTINCT \"attendances\".\"id\") FROM \"attendances\" LEFT OUTER JOIN \"sinh_viens\" ON \"sinh_viens\".\"id\" = \"attendances\".\"sinh_vien_id\" WHERE \"attendances\".\"lich_trinh_giang_day_id\" = $1 AND (state = 'absent')","name":null,"connection_id":46596840,"statement_name":"a18","binds":[[{"array":false,"name":"lich_trinh_giang_day_id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":true,"default":null,"default_function":null},6727]],"octopus_shard":"qlgd","line":34,"filename":"/home/tuyendv/qlgd-test/app/decorators/lich_trinh_giang_day_decorator.rb","method":"sv_vang_mat"},"time":"2016-07-07T15:09:30.198+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.198+07:00","children":[],"duration":0.295803},{"name":"sql.active_record","payload":{"sql":"SELECT COUNT(DISTINCT \"attendances\".\"id\") FROM \"attendances\" LEFT OUTER JOIN \"sinh_viens\" ON \"sinh_viens\".\"id\" = \"attendances\".\"sinh_vien_id\" WHERE \"attendances\".\"lich_trinh_giang_day_id\" = $1 AND (state = 'idle')","name":null,"connection_id":46596840,"statement_name":"a19","binds":[[{"array":false,"name":"lich_trinh_giang_day_id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":true,"default":null,"default_function":null},6727]],"octopus_shard":"qlgd","line":30,"filename":"/home/tuyendv/qlgd-test/app/decorators/lich_trinh_giang_day_decorator.rb","method":"sv_co_mat"},"time":"2016-07-07T15:09:30.200+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.201+07:00","children":[],"duration":0.356825},{"name":"sql.active_record","payload":{"sql":"SELECT COUNT(DISTINCT \"attendances\".\"id\") FROM \"attendances\" LEFT OUTER JOIN \"sinh_viens\" ON \"sinh_viens\".\"id\" = \"attendances\".\"sinh_vien_id\" WHERE \"attendances\".\"lich_trinh_giang_day_id\" = $1 AND (state = 'absent')","binds":[[{"array":false,"name":"lich_trinh_giang_day_id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":true,"default":null,"default_function":null},6727]],"name":"CACHE","connection_id":46596840,"line":34,"filename":"/home/tuyendv/qlgd-test/app/decorators/lich_trinh_giang_day_decorator.rb","method":"sv_vang_mat"},"time":"2016-07-07T15:09:30.203+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.203+07:00","children":[],"duration":0.02705},{"name":"sql.active_record","payload":{"sql":"SELECT \"lich_trinh_giang_days\".* FROM \"lich_trinh_giang_days\" INNER JOIN \"lop_mon_hocs\" ON \"lich_trinh_giang_days\".\"lop_mon_hoc_id\" = \"lop_mon_hocs\".\"id\" WHERE \"lop_mon_hocs\".\"id\" = $1 AND (ltype != 'tuhoc')  ORDER BY thoi_gian, phong","name":"LichTrinhGiangDay Load","connection_id":46596840,"statement_name":"a20","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('lop_mon_hocs_id_seq'::regclass)"},411]],"octopus_shard":"qlgd","line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.209+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.212+07:00","children":[],"duration":2.785603},{"name":"sql.active_record","payload":{"sql":"SELECT \"lop_mon_hocs\".* FROM \"lop_mon_hocs\" WHERE \"lop_mon_hocs\".\"id\" IN (411)","binds":[],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.214+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.215+07:00","children":[],"duration":0.035337},{"name":"sql.active_record","payload":{"sql":"SELECT \"giang_viens\".* FROM \"giang_viens\" WHERE \"giang_viens\".\"id\" IN (351)","binds":[],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.216+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.216+07:00","children":[],"duration":0.028217000000000002},{"name":"sql.active_record","payload":{"sql":"SHOW max_identifier_length","name":"SCHEMA","connection_id":46596840,"statement_name":null,"binds":[],"octopus_shard":"qlgd","line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.218+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.218+07:00","children":[],"duration":0.232733},{"name":"sql.active_record","payload":{"sql":"SELECT SUM(\"attendances\".\"so_tiet_vang\") FROM \"attendances\" LEFT OUTER JOIN \"sinh_viens\" \"sinh_viens_attendances\" ON \"sinh_viens_attendances\".\"id\" = \"attendances\".\"sinh_vien_id\" INNER JOIN \"sinh_viens\" ON \"attendances\".\"sinh_vien_id\" = \"sinh_viens\".\"id\" WHERE \"sinh_viens\".\"id\" = $1 AND \"attendances\".\"lich_trinh_giang_day_id\" IN (6727, 9607, 6728, 9608, 6729, 9609, 6722, 6730, 6723, 6731, 6724, 6732, 10876, 6725, 6733, 10877, 6726, 6734, 10946, 10947) AND \"attendances\".\"state\" IN ('absent', 'late', 'attendant') AND (phep is NULL or phep=false)","name":null,"connection_id":46596840,"statement_name":"a21","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('sinh_viens_id_seq'::regclass)"},1032]],"octopus_shard":"qlgd","line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.220+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.228+07:00","children":[],"duration":7.986024},{"name":"sql.active_record","payload":{"sql":"SELECT \"lich_trinh_giang_days\".* FROM \"lich_trinh_giang_days\" INNER JOIN \"lop_mon_hocs\" ON \"lich_trinh_giang_days\".\"lop_mon_hoc_id\" = \"lop_mon_hocs\".\"id\" WHERE \"lop_mon_hocs\".\"id\" = $1 AND (ltype != 'tuhoc')  ORDER BY thoi_gian, phong","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('lop_mon_hocs_id_seq'::regclass)"},411]],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.231+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.231+07:00","children":[],"duration":0.021765},{"name":"sql.active_record","payload":{"sql":"SELECT \"lop_mon_hocs\".* FROM \"lop_mon_hocs\" WHERE \"lop_mon_hocs\".\"id\" IN (411)","binds":[],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.233+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.233+07:00","children":[],"duration":0.023674},{"name":"sql.active_record","payload":{"sql":"SELECT \"giang_viens\".* FROM \"giang_viens\" WHERE \"giang_viens\".\"id\" IN (351)","binds":[],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.235+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.235+07:00","children":[],"duration":0.019603},{"name":"sql.active_record","payload":{"sql":"SELECT SUM(\"attendances\".\"so_tiet_vang\") FROM \"attendances\" LEFT OUTER JOIN \"sinh_viens\" \"sinh_viens_attendances\" ON \"sinh_viens_attendances\".\"id\" = \"attendances\".\"sinh_vien_id\" INNER JOIN \"sinh_viens\" ON \"attendances\".\"sinh_vien_id\" = \"sinh_viens\".\"id\" WHERE \"sinh_viens\".\"id\" = $1 AND \"attendances\".\"lich_trinh_giang_day_id\" IN (6727, 9607, 6728, 9608, 6729, 9609, 6722, 6730, 6723, 6731, 6724, 6732, 10876, 6725, 6733, 10877, 6726, 6734, 10946, 10947) AND \"attendances\".\"state\" IN ('absent', 'late', 'attendant') AND (phep is NULL or phep=false)","name":null,"connection_id":46596840,"statement_name":"a21","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('sinh_viens_id_seq'::regclass)"},1029]],"octopus_shard":"qlgd","line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.238+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.242+07:00","children":[],"duration":4.668483999999999},{"name":"sql.active_record","payload":{"sql":"SELECT \"lich_trinh_giang_days\".* FROM \"lich_trinh_giang_days\" INNER JOIN \"lop_mon_hocs\" ON \"lich_trinh_giang_days\".\"lop_mon_hoc_id\" = \"lop_mon_hocs\".\"id\" WHERE \"lop_mon_hocs\".\"id\" = $1 AND (ltype != 'tuhoc')  ORDER BY thoi_gian, phong","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('lop_mon_hocs_id_seq'::regclass)"},411]],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.245+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.245+07:00","children":[],"duration":0.022818},{"name":"sql.active_record","payload":{"sql":"SELECT \"lop_mon_hocs\".* FROM \"lop_mon_hocs\" WHERE \"lop_mon_hocs\".\"id\" IN (411)","binds":[],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.248+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.248+07:00","children":[],"duration":0.030304},{"name":"sql.active_record","payload":{"sql":"SELECT \"giang_viens\".* FROM \"giang_viens\" WHERE \"giang_viens\".\"id\" IN (351)","binds":[],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.250+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.250+07:00","children":[],"duration":0.029890999999999997},{"name":"sql.active_record","payload":{"sql":"SELECT SUM(\"attendances\".\"so_tiet_vang\") FROM \"attendances\" LEFT OUTER JOIN \"sinh_viens\" \"sinh_viens_attendances\" ON \"sinh_viens_attendances\".\"id\" = \"attendances\".\"sinh_vien_id\" INNER JOIN \"sinh_viens\" ON \"attendances\".\"sinh_vien_id\" = \"sinh_viens\".\"id\" WHERE \"sinh_viens\".\"id\" = $1 AND \"attendances\".\"lich_trinh_giang_day_id\" IN (6727, 9607, 6728, 9608, 6729, 9609, 6722, 6730, 6723, 6731, 6724, 6732, 10876, 6725, 6733, 10877, 6726, 6734, 10946, 10947) AND \"attendances\".\"state\" IN ('absent', 'late', 'attendant') AND (phep is NULL or phep=false)","name":null,"connection_id":46596840,"statement_name":"a21","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('sinh_viens_id_seq'::regclass)"},1030]],"octopus_shard":"qlgd","line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.253+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.254+07:00","children":[],"duration":0.642637},{"name":"sql.active_record","payload":{"sql":"SELECT \"lich_trinh_giang_days\".* FROM \"lich_trinh_giang_days\" INNER JOIN \"lop_mon_hocs\" ON \"lich_trinh_giang_days\".\"lop_mon_hoc_id\" = \"lop_mon_hocs\".\"id\" WHERE \"lop_mon_hocs\".\"id\" = $1 AND (ltype != 'tuhoc')  ORDER BY thoi_gian, phong","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('lop_mon_hocs_id_seq'::regclass)"},411]],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.257+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.257+07:00","children":[],"duration":0.033327999999999997},{"name":"sql.active_record","payload":{"sql":"SELECT \"lop_mon_hocs\".* FROM \"lop_mon_hocs\" WHERE \"lop_mon_hocs\".\"id\" IN (411)","binds":[],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.260+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.260+07:00","children":[],"duration":0.021186999999999998},{"name":"sql.active_record","payload":{"sql":"SELECT \"giang_viens\".* FROM \"giang_viens\" WHERE \"giang_viens\".\"id\" IN (351)","binds":[],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.261+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.261+07:00","children":[],"duration":0.020544},{"name":"sql.active_record","payload":{"sql":"SELECT SUM(\"attendances\".\"so_tiet_vang\") FROM \"attendances\" LEFT OUTER JOIN \"sinh_viens\" \"sinh_viens_attendances\" ON \"sinh_viens_attendances\".\"id\" = \"attendances\".\"sinh_vien_id\" INNER JOIN \"sinh_viens\" ON \"attendances\".\"sinh_vien_id\" = \"sinh_viens\".\"id\" WHERE \"sinh_viens\".\"id\" = $1 AND \"attendances\".\"lich_trinh_giang_day_id\" IN (6727, 9607, 6728, 9608, 6729, 9609, 6722, 6730, 6723, 6731, 6724, 6732, 10876, 6725, 6733, 10877, 6726, 6734, 10946, 10947) AND \"attendances\".\"state\" IN ('absent', 'late', 'attendant') AND (phep is NULL or phep=false)","name":null,"connection_id":46596840,"statement_name":"a21","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('sinh_viens_id_seq'::regclass)"},1036]],"octopus_shard":"qlgd","line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.264+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.265+07:00","children":[],"duration":0.585192},{"name":"sql.active_record","payload":{"sql":"SELECT \"lich_trinh_giang_days\".* FROM \"lich_trinh_giang_days\" INNER JOIN \"lop_mon_hocs\" ON \"lich_trinh_giang_days\".\"lop_mon_hoc_id\" = \"lop_mon_hocs\".\"id\" WHERE \"lop_mon_hocs\".\"id\" = $1 AND (ltype != 'tuhoc')  ORDER BY thoi_gian, phong","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('lop_mon_hocs_id_seq'::regclass)"},411]],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.268+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.268+07:00","children":[],"duration":0.022241},{"name":"sql.active_record","payload":{"sql":"SELECT \"lop_mon_hocs\".* FROM \"lop_mon_hocs\" WHERE \"lop_mon_hocs\".\"id\" IN (411)","binds":[],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.270+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.270+07:00","children":[],"duration":0.020846},{"name":"sql.active_record","payload":{"sql":"SELECT \"giang_viens\".* FROM \"giang_viens\" WHERE \"giang_viens\".\"id\" IN (351)","binds":[],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.272+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.272+07:00","children":[],"duration":0.019559},{"name":"sql.active_record","payload":{"sql":"SELECT SUM(\"attendances\".\"so_tiet_vang\") FROM \"attendances\" LEFT OUTER JOIN \"sinh_viens\" \"sinh_viens_attendances\" ON \"sinh_viens_attendances\".\"id\" = \"attendances\".\"sinh_vien_id\" INNER JOIN \"sinh_viens\" ON \"attendances\".\"sinh_vien_id\" = \"sinh_viens\".\"id\" WHERE \"sinh_viens\".\"id\" = $1 AND \"attendances\".\"lich_trinh_giang_day_id\" IN (6727, 9607, 6728, 9608, 6729, 9609, 6722, 6730, 6723, 6731, 6724, 6732, 10876, 6725, 6733, 10877, 6726, 6734, 10946, 10947) AND \"attendances\".\"state\" IN ('absent', 'late', 'attendant') AND (phep is NULL or phep=false)","name":null,"connection_id":46596840,"statement_name":"a21","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('sinh_viens_id_seq'::regclass)"},1031]],"octopus_shard":"qlgd","line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.275+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.275+07:00","children":[],"duration":0.595294},{"name":"sql.active_record","payload":{"sql":"SELECT \"lich_trinh_giang_days\".* FROM \"lich_trinh_giang_days\" INNER JOIN \"lop_mon_hocs\" ON \"lich_trinh_giang_days\".\"lop_mon_hoc_id\" = \"lop_mon_hocs\".\"id\" WHERE \"lop_mon_hocs\".\"id\" = $1 AND (ltype != 'tuhoc')  ORDER BY thoi_gian, phong","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('lop_mon_hocs_id_seq'::regclass)"},411]],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.278+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.278+07:00","children":[],"duration":0.021429},{"name":"sql.active_record","payload":{"sql":"SELECT \"lop_mon_hocs\".* FROM \"lop_mon_hocs\" WHERE \"lop_mon_hocs\".\"id\" IN (411)","binds":[],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.280+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.280+07:00","children":[],"duration":0.020805},{"name":"sql.active_record","payload":{"sql":"SELECT \"giang_viens\".* FROM \"giang_viens\" WHERE \"giang_viens\".\"id\" IN (351)","binds":[],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.282+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.282+07:00","children":[],"duration":0.019865},{"name":"sql.active_record","payload":{"sql":"SELECT SUM(\"attendances\".\"so_tiet_vang\") FROM \"attendances\" LEFT OUTER JOIN \"sinh_viens\" \"sinh_viens_attendances\" ON \"sinh_viens_attendances\".\"id\" = \"attendances\".\"sinh_vien_id\" INNER JOIN \"sinh_viens\" ON \"attendances\".\"sinh_vien_id\" = \"sinh_viens\".\"id\" WHERE \"sinh_viens\".\"id\" = $1 AND \"attendances\".\"lich_trinh_giang_day_id\" IN (6727, 9607, 6728, 9608, 6729, 9609, 6722, 6730, 6723, 6731, 6724, 6732, 10876, 6725, 6733, 10877, 6726, 6734, 10946, 10947) AND \"attendances\".\"state\" IN ('absent', 'late', 'attendant') AND (phep is NULL or phep=false)","name":null,"connection_id":46596840,"statement_name":"a21","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('sinh_viens_id_seq'::regclass)"},1034]],"octopus_shard":"qlgd","line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.285+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.285+07:00","children":[],"duration":0.880451},{"name":"sql.active_record","payload":{"sql":"SELECT \"lich_trinh_giang_days\".* FROM \"lich_trinh_giang_days\" INNER JOIN \"lop_mon_hocs\" ON \"lich_trinh_giang_days\".\"lop_mon_hoc_id\" = \"lop_mon_hocs\".\"id\" WHERE \"lop_mon_hocs\".\"id\" = $1 AND (ltype != 'tuhoc')  ORDER BY thoi_gian, phong","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('lop_mon_hocs_id_seq'::regclass)"},411]],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.288+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.288+07:00","children":[],"duration":0.021127},{"name":"sql.active_record","payload":{"sql":"SELECT \"lop_mon_hocs\".* FROM \"lop_mon_hocs\" WHERE \"lop_mon_hocs\".\"id\" IN (411)","binds":[],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.290+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.290+07:00","children":[],"duration":0.020021999999999998},{"name":"sql.active_record","payload":{"sql":"SELECT \"giang_viens\".* FROM \"giang_viens\" WHERE \"giang_viens\".\"id\" IN (351)","binds":[],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.292+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.292+07:00","children":[],"duration":0.019516000000000002},{"name":"sql.active_record","payload":{"sql":"SELECT SUM(\"attendances\".\"so_tiet_vang\") FROM \"attendances\" LEFT OUTER JOIN \"sinh_viens\" \"sinh_viens_attendances\" ON \"sinh_viens_attendances\".\"id\" = \"attendances\".\"sinh_vien_id\" INNER JOIN \"sinh_viens\" ON \"attendances\".\"sinh_vien_id\" = \"sinh_viens\".\"id\" WHERE \"sinh_viens\".\"id\" = $1 AND \"attendances\".\"lich_trinh_giang_day_id\" IN (6727, 9607, 6728, 9608, 6729, 9609, 6722, 6730, 6723, 6731, 6724, 6732, 10876, 6725, 6733, 10877, 6726, 6734, 10946, 10947) AND \"attendances\".\"state\" IN ('absent', 'late', 'attendant') AND (phep is NULL or phep=false)","name":null,"connection_id":46596840,"statement_name":"a21","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('sinh_viens_id_seq'::regclass)"},1038]],"octopus_shard":"qlgd","line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.294+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.295+07:00","children":[],"duration":0.410235},{"name":"sql.active_record","payload":{"sql":"SELECT \"lich_trinh_giang_days\".* FROM \"lich_trinh_giang_days\" INNER JOIN \"lop_mon_hocs\" ON \"lich_trinh_giang_days\".\"lop_mon_hoc_id\" = \"lop_mon_hocs\".\"id\" WHERE \"lop_mon_hocs\".\"id\" = $1 AND (ltype != 'tuhoc')  ORDER BY thoi_gian, phong","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('lop_mon_hocs_id_seq'::regclass)"},411]],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.297+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.297+07:00","children":[],"duration":0.021352000000000003},{"name":"sql.active_record","payload":{"sql":"SELECT \"lop_mon_hocs\".* FROM \"lop_mon_hocs\" WHERE \"lop_mon_hocs\".\"id\" IN (411)","binds":[],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.299+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.299+07:00","children":[],"duration":0.020364},{"name":"sql.active_record","payload":{"sql":"SELECT \"giang_viens\".* FROM \"giang_viens\" WHERE \"giang_viens\".\"id\" IN (351)","binds":[],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.301+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.301+07:00","children":[],"duration":0.019658000000000002},{"name":"sql.active_record","payload":{"sql":"SELECT SUM(\"attendances\".\"so_tiet_vang\") FROM \"attendances\" LEFT OUTER JOIN \"sinh_viens\" \"sinh_viens_attendances\" ON \"sinh_viens_attendances\".\"id\" = \"attendances\".\"sinh_vien_id\" INNER JOIN \"sinh_viens\" ON \"attendances\".\"sinh_vien_id\" = \"sinh_viens\".\"id\" WHERE \"sinh_viens\".\"id\" = $1 AND \"attendances\".\"lich_trinh_giang_day_id\" IN (6727, 9607, 6728, 9608, 6729, 9609, 6722, 6730, 6723, 6731, 6724, 6732, 10876, 6725, 6733, 10877, 6726, 6734, 10946, 10947) AND \"attendances\".\"state\" IN ('absent', 'late', 'attendant') AND (phep is NULL or phep=false)","name":null,"connection_id":46596840,"statement_name":"a21","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('sinh_viens_id_seq'::regclass)"},1035]],"octopus_shard":"qlgd","line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.304+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.304+07:00","children":[],"duration":0.576217},{"name":"sql.active_record","payload":{"sql":"SELECT \"lich_trinh_giang_days\".* FROM \"lich_trinh_giang_days\" INNER JOIN \"lop_mon_hocs\" ON \"lich_trinh_giang_days\".\"lop_mon_hoc_id\" = \"lop_mon_hocs\".\"id\" WHERE \"lop_mon_hocs\".\"id\" = $1 AND (ltype != 'tuhoc')  ORDER BY thoi_gian, phong","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('lop_mon_hocs_id_seq'::regclass)"},411]],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.307+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.307+07:00","children":[],"duration":0.020529},{"name":"sql.active_record","payload":{"sql":"SELECT \"lop_mon_hocs\".* FROM \"lop_mon_hocs\" WHERE \"lop_mon_hocs\".\"id\" IN (411)","binds":[],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.309+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.309+07:00","children":[],"duration":0.020066999999999998},{"name":"sql.active_record","payload":{"sql":"SELECT \"giang_viens\".* FROM \"giang_viens\" WHERE \"giang_viens\".\"id\" IN (351)","binds":[],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.310+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.311+07:00","children":[],"duration":0.021197999999999998},{"name":"sql.active_record","payload":{"sql":"SELECT SUM(\"attendances\".\"so_tiet_vang\") FROM \"attendances\" LEFT OUTER JOIN \"sinh_viens\" \"sinh_viens_attendances\" ON \"sinh_viens_attendances\".\"id\" = \"attendances\".\"sinh_vien_id\" INNER JOIN \"sinh_viens\" ON \"attendances\".\"sinh_vien_id\" = \"sinh_viens\".\"id\" WHERE \"sinh_viens\".\"id\" = $1 AND \"attendances\".\"lich_trinh_giang_day_id\" IN (6727, 9607, 6728, 9608, 6729, 9609, 6722, 6730, 6723, 6731, 6724, 6732, 10876, 6725, 6733, 10877, 6726, 6734, 10946, 10947) AND \"attendances\".\"state\" IN ('absent', 'late', 'attendant') AND (phep is NULL or phep=false)","name":null,"connection_id":46596840,"statement_name":"a21","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('sinh_viens_id_seq'::regclass)"},1040]],"octopus_shard":"qlgd","line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.313+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.314+07:00","children":[],"duration":0.305757},{"name":"sql.active_record","payload":{"sql":"SELECT \"lich_trinh_giang_days\".* FROM \"lich_trinh_giang_days\" INNER JOIN \"lop_mon_hocs\" ON \"lich_trinh_giang_days\".\"lop_mon_hoc_id\" = \"lop_mon_hocs\".\"id\" WHERE \"lop_mon_hocs\".\"id\" = $1 AND (ltype != 'tuhoc')  ORDER BY thoi_gian, phong","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('lop_mon_hocs_id_seq'::regclass)"},411]],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.316+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.316+07:00","children":[],"duration":0.021086},{"name":"sql.active_record","payload":{"sql":"SELECT \"lop_mon_hocs\".* FROM \"lop_mon_hocs\" WHERE \"lop_mon_hocs\".\"id\" IN (411)","binds":[],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.319+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.319+07:00","children":[],"duration":0.02124},{"name":"sql.active_record","payload":{"sql":"SELECT \"giang_viens\".* FROM \"giang_viens\" WHERE \"giang_viens\".\"id\" IN (351)","binds":[],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.320+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.320+07:00","children":[],"duration":0.021152999999999998},{"name":"sql.active_record","payload":{"sql":"SELECT SUM(\"attendances\".\"so_tiet_vang\") FROM \"attendances\" LEFT OUTER JOIN \"sinh_viens\" \"sinh_viens_attendances\" ON \"sinh_viens_attendances\".\"id\" = \"attendances\".\"sinh_vien_id\" INNER JOIN \"sinh_viens\" ON \"attendances\".\"sinh_vien_id\" = \"sinh_viens\".\"id\" WHERE \"sinh_viens\".\"id\" = $1 AND \"attendances\".\"lich_trinh_giang_day_id\" IN (6727, 9607, 6728, 9608, 6729, 9609, 6722, 6730, 6723, 6731, 6724, 6732, 10876, 6725, 6733, 10877, 6726, 6734, 10946, 10947) AND \"attendances\".\"state\" IN ('absent', 'late', 'attendant') AND (phep is NULL or phep=false)","name":null,"connection_id":46596840,"statement_name":"a21","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('sinh_viens_id_seq'::regclass)"},1037]],"octopus_shard":"qlgd","line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.323+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.323+07:00","children":[],"duration":0.299794},{"name":"sql.active_record","payload":{"sql":"SELECT \"lich_trinh_giang_days\".* FROM \"lich_trinh_giang_days\" INNER JOIN \"lop_mon_hocs\" ON \"lich_trinh_giang_days\".\"lop_mon_hoc_id\" = \"lop_mon_hocs\".\"id\" WHERE \"lop_mon_hocs\".\"id\" = $1 AND (ltype != 'tuhoc')  ORDER BY thoi_gian, phong","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('lop_mon_hocs_id_seq'::regclass)"},411]],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.326+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.326+07:00","children":[],"duration":0.020724},{"name":"sql.active_record","payload":{"sql":"SELECT \"lop_mon_hocs\".* FROM \"lop_mon_hocs\" WHERE \"lop_mon_hocs\".\"id\" IN (411)","binds":[],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.328+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.328+07:00","children":[],"duration":0.021537999999999998},{"name":"sql.active_record","payload":{"sql":"SELECT \"giang_viens\".* FROM \"giang_viens\" WHERE \"giang_viens\".\"id\" IN (351)","binds":[],"name":"CACHE","connection_id":46596840,"line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.330+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.330+07:00","children":[],"duration":0.020411000000000002},{"name":"sql.active_record","payload":{"sql":"SELECT SUM(\"attendances\".\"so_tiet_vang\") FROM \"attendances\" LEFT OUTER JOIN \"sinh_viens\" \"sinh_viens_attendances\" ON \"sinh_viens_attendances\".\"id\" = \"attendances\".\"sinh_vien_id\" INNER JOIN \"sinh_viens\" ON \"attendances\".\"sinh_vien_id\" = \"sinh_viens\".\"id\" WHERE \"sinh_viens\".\"id\" = $1 AND \"attendances\".\"lich_trinh_giang_day_id\" IN (6727, 9607, 6728, 9608, 6729, 9609, 6722, 6730, 6723, 6731, 6724, 6732, 10876, 6725, 6733, 10877, 6726, 6734, 10946, 10947) AND \"attendances\".\"state\" IN ('absent', 'late', 'attendant') AND (phep is NULL or phep=false)","name":null,"connection_id":46596840,"statement_name":"a21","binds":[[{"array":false,"name":"id","cast_type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"sql_type":"integer","null":false,"default":null,"default_function":"nextval('sinh_viens_id_seq'::regclass)"},1033]],"octopus_shard":"qlgd","line":18,"filename":"/home/tuyendv/qlgd-test/app/models/enrollment.rb","method":"tong_vang"},"time":"2016-07-07T15:09:30.332+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.333+07:00","children":[],"duration":0.623759},{"name":"process_action.action_controller","payload":{"controller":"Teacher::AttendancesController","action":"index","params":{"controller":"teacher/attendances","action":"index","lich_id":"6727","format":"json"},"format":"json","method":"GET","path":"/teacher/lich/6727/attendances.json","status":200,"view_runtime":0.11083799972766428,"db_runtime":46.27829299999999,"solr_runtime":0},"time":"2016-07-07T15:09:30.081+07:00","transaction_id":"a9c8cadcda7cd8481dea","end":"2016-07-07T15:09:30.348+07:00","children":[],"duration":266.277343}]